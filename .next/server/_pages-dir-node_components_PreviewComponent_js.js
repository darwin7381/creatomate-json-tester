"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_PreviewComponent_js";
exports.ids = ["_pages-dir-node_components_PreviewComponent_js"];
exports.modules = {

/***/ "(pages-dir-node)/./components/PreviewComponent.js":
/*!****************************************!*\
  !*** ./components/PreviewComponent.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PreviewComponent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _creatomate_preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @creatomate/preview */ \"@creatomate/preview\");\n/* harmony import */ var _creatomate_preview__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_creatomate_preview__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction PreviewComponent({ jsonInput, filePath, onError, onLoadingChange }) {\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // 初始化預覽SDK\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PreviewComponent.useEffect\": ()=>{\n            if (!containerRef.current) return;\n            const setupPreview = {\n                \"PreviewComponent.useEffect.setupPreview\": ()=>{\n                    try {\n                        // 清理先前的實例\n                        if (previewRef.current) {\n                            previewRef.current.dispose();\n                            previewRef.current = null;\n                        }\n                        if (onLoadingChange) onLoadingChange(true);\n                        // 初始化預覽器\n                        const preview = new _creatomate_preview__WEBPACK_IMPORTED_MODULE_2__.Preview(containerRef.current, 'player', \"public-0x6hcqpfhrhw16d67ogth7ry\");\n                        preview.onReady = ({\n                            \"PreviewComponent.useEffect.setupPreview\": async ()=>{\n                                try {\n                                    setIsInitialized(true);\n                                    // 嘗試加載模板（如果配置了）\n                                    if (process.env.NEXT_PUBLIC_TEMPLATE_ID) {\n                                        await preview.loadTemplate(process.env.NEXT_PUBLIC_TEMPLATE_ID);\n                                    }\n                                    if (onLoadingChange) onLoadingChange(false);\n                                } catch (err) {\n                                    console.error('初始化預覽時出錯:', err);\n                                    if (onError) onError(`初始化預覽時出錯: ${err.message}`);\n                                    if (onLoadingChange) onLoadingChange(false);\n                                }\n                            }\n                        })[\"PreviewComponent.useEffect.setupPreview\"];\n                        preview.onError = ({\n                            \"PreviewComponent.useEffect.setupPreview\": (err)=>{\n                                console.error('預覽SDK錯誤:', err);\n                                if (onError) onError(`預覽SDK錯誤: ${err}`);\n                                if (onLoadingChange) onLoadingChange(false);\n                            }\n                        })[\"PreviewComponent.useEffect.setupPreview\"];\n                        preview.onLoad = ({\n                            \"PreviewComponent.useEffect.setupPreview\": ()=>{\n                                if (onLoadingChange) onLoadingChange(true);\n                            }\n                        })[\"PreviewComponent.useEffect.setupPreview\"];\n                        preview.onLoadComplete = ({\n                            \"PreviewComponent.useEffect.setupPreview\": ()=>{\n                                if (onLoadingChange) onLoadingChange(false);\n                            }\n                        })[\"PreviewComponent.useEffect.setupPreview\"];\n                        previewRef.current = preview;\n                    } catch (err) {\n                        console.error('設置預覽時出錯:', err);\n                        if (onError) onError(`設置預覽時出錯: ${err.message}`);\n                        if (onLoadingChange) onLoadingChange(false);\n                    }\n                }\n            }[\"PreviewComponent.useEffect.setupPreview\"];\n            setupPreview();\n            // 清理函數\n            return ({\n                \"PreviewComponent.useEffect\": ()=>{\n                    if (previewRef.current) {\n                        previewRef.current.dispose();\n                        previewRef.current = null;\n                    }\n                }\n            })[\"PreviewComponent.useEffect\"];\n        }\n    }[\"PreviewComponent.useEffect\"], [\n        containerRef.current\n    ]);\n    // 處理從文件加載的JSON\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PreviewComponent.useEffect\": ()=>{\n            const loadJsonFile = {\n                \"PreviewComponent.useEffect.loadJsonFile\": async ()=>{\n                    if (!previewRef.current || !isInitialized || !filePath) return;\n                    try {\n                        if (onLoadingChange) onLoadingChange(true);\n                        const response = await fetch(`/api/load-json-file?filePath=${encodeURIComponent(filePath)}`);\n                        if (!response.ok) {\n                            throw new Error(`HTTP錯誤 ${response.status}`);\n                        }\n                        const data = await response.json();\n                        if (data.content && previewRef.current) {\n                            try {\n                                const jsonSource = JSON.parse(data.content);\n                                await previewRef.current.setSource(jsonSource);\n                            } catch (err) {\n                                if (onError) onError(`無法應用JSON: ${err.message}`);\n                            }\n                        } else if (data.error) {\n                            if (onError) onError(`載入JSON錯誤: ${data.error}`);\n                        }\n                    } catch (err) {\n                        console.error('載入JSON文件失敗:', err);\n                        if (onError) onError(`載入JSON文件失敗: ${err.message}`);\n                    } finally{\n                        if (onLoadingChange) onLoadingChange(false);\n                    }\n                }\n            }[\"PreviewComponent.useEffect.loadJsonFile\"];\n            loadJsonFile();\n        }\n    }[\"PreviewComponent.useEffect\"], [\n        filePath,\n        isInitialized\n    ]);\n    // 處理JSON輸入更新\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PreviewComponent.useEffect\": ()=>{\n            const updatePreview = {\n                \"PreviewComponent.useEffect.updatePreview\": async ()=>{\n                    if (!previewRef.current || !isInitialized || !jsonInput) return;\n                    try {\n                        if (onLoadingChange) onLoadingChange(true);\n                        const jsonSource = JSON.parse(jsonInput);\n                        await previewRef.current.setSource(jsonSource);\n                    } catch (err) {\n                        console.error('應用JSON時出錯:', err);\n                        if (onError) onError(`JSON解析錯誤: ${err.message}`);\n                    } finally{\n                        if (onLoadingChange) onLoadingChange(false);\n                    }\n                }\n            }[\"PreviewComponent.useEffect.updatePreview\"];\n            updatePreview();\n        }\n    }[\"PreviewComponent.useEffect\"], [\n        jsonInput,\n        isInitialized\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            width: '100%',\n            height: '100%'\n        }\n    }, void 0, false, {\n        fileName: \"/Users/JL/Development/video-automation/creatomate-node-examples/components/PreviewComponent.js\",\n        lineNumber: 137,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvUHJldmlld0NvbXBvbmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyRDtBQUNiO0FBRS9CLFNBQVNLLGlCQUFpQixFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxlQUFlLEVBQUU7SUFDeEYsTUFBTUMsZUFBZVIsNkNBQU1BLENBQUM7SUFDNUIsTUFBTVMsYUFBYVQsNkNBQU1BLENBQUM7SUFDMUIsTUFBTSxDQUFDVSxlQUFlQyxpQkFBaUIsR0FBR1YsK0NBQVFBLENBQUM7SUFFbkQsV0FBVztJQUNYRixnREFBU0E7c0NBQUM7WUFDUixJQUFJLENBQUNTLGFBQWFJLE9BQU8sRUFBRTtZQUUzQixNQUFNQzsyREFBZTtvQkFDbkIsSUFBSTt3QkFDRixVQUFVO3dCQUNWLElBQUlKLFdBQVdHLE9BQU8sRUFBRTs0QkFDdEJILFdBQVdHLE9BQU8sQ0FBQ0UsT0FBTzs0QkFDMUJMLFdBQVdHLE9BQU8sR0FBRzt3QkFDdkI7d0JBRUEsSUFBSUwsaUJBQWlCQSxnQkFBZ0I7d0JBRXJDLFNBQVM7d0JBQ1QsTUFBTVEsVUFBVSxJQUFJYix3REFBT0EsQ0FDekJNLGFBQWFJLE9BQU8sRUFDcEIsVUFDQUksaUNBQStDO3dCQUdqREQsUUFBUUksT0FBTzt1RUFBRztnQ0FDaEIsSUFBSTtvQ0FDRlIsaUJBQWlCO29DQUVqQixnQkFBZ0I7b0NBQ2hCLElBQUlLLFFBQVFDLEdBQUcsQ0FBQ0csdUJBQXVCLEVBQUU7d0NBQ3ZDLE1BQU1MLFFBQVFNLFlBQVksQ0FBQ0wsUUFBUUMsR0FBRyxDQUFDRyx1QkFBdUI7b0NBQ2hFO29DQUVBLElBQUliLGlCQUFpQkEsZ0JBQWdCO2dDQUN2QyxFQUFFLE9BQU9lLEtBQUs7b0NBQ1pDLFFBQVFDLEtBQUssQ0FBQyxhQUFhRjtvQ0FDM0IsSUFBSWhCLFNBQVNBLFFBQVEsQ0FBQyxVQUFVLEVBQUVnQixJQUFJRyxPQUFPLEVBQUU7b0NBQy9DLElBQUlsQixp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QUFRLENBQUMsVUFBVSxFQUFFZ0IsSUFBSUcsT0FBTyxFQUFFO29CQUNqRCxTQUFVO3dCQUNSLElBQUlsQixpQkFBaUJBLGdCQUFnQjtvQkFDdkM7Z0JBQ0Y7O1lBRUFtQztRQUNGO3FDQUFHO1FBQUN0QztRQUFXTTtLQUFjO0lBRTdCLHFCQUFPLDhEQUFDaUM7UUFBSUMsS0FBS3BDO1FBQWNxQyxPQUFPO1lBQUVDLE9BQU87WUFBUUMsUUFBUTtRQUFPOzs7Ozs7QUFDeEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9KTC9EZXZlbG9wbWVudC92aWRlby1hdXRvbWF0aW9uL2NyZWF0b21hdGUtbm9kZS1leGFtcGxlcy9jb21wb25lbnRzL1ByZXZpZXdDb21wb25lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFByZXZpZXcgfSBmcm9tICdAY3JlYXRvbWF0ZS9wcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJldmlld0NvbXBvbmVudCh7IGpzb25JbnB1dCwgZmlsZVBhdGgsIG9uRXJyb3IsIG9uTG9hZGluZ0NoYW5nZSB9KSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHJldmlld1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2lzSW5pdGlhbGl6ZWQsIHNldElzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIOWIneWni+WMlumgkOimvVNES1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHNldHVwUHJldmlldyA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOa4heeQhuWFiOWJjeeahOWvpuS+i1xuICAgICAgICBpZiAocHJldmlld1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgcHJldmlld1JlZi5jdXJyZW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICBwcmV2aWV3UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9uTG9hZGluZ0NoYW5nZSkgb25Mb2FkaW5nQ2hhbmdlKHRydWUpO1xuXG4gICAgICAgIC8vIOWIneWni+WMlumgkOimveWZqFxuICAgICAgICBjb25zdCBwcmV2aWV3ID0gbmV3IFByZXZpZXcoXG4gICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQsXG4gICAgICAgICAgJ3BsYXllcicsXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ1JFQVRPTUFURV9QVUJMSUNfVE9LRU5cbiAgICAgICAgKTtcblxuICAgICAgICBwcmV2aWV3Lm9uUmVhZHkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIOWYl+ippuWKoOi8ieaooeadv++8iOWmguaenOmFjee9ruS6hu+8iVxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTVBMQVRFX0lEKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHByZXZpZXcubG9hZFRlbXBsYXRlKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTVBMQVRFX0lEKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9uTG9hZGluZ0NoYW5nZSkgb25Mb2FkaW5nQ2hhbmdlKGZhbHNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIneWni+WMlumgkOimveaZguWHuumMrzonLCBlcnIpO1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIG9uRXJyb3IoYOWIneWni+WMlumgkOimveaZguWHuumMrzogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGlmIChvbkxvYWRpbmdDaGFuZ2UpIG9uTG9hZGluZ0NoYW5nZShmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByZXZpZXcub25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfpoJDopr1TREvpjK/oqqQ6JywgZXJyKTtcbiAgICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihg6aCQ6Ka9U0RL6Yyv6KqkOiAke2Vycn1gKTtcbiAgICAgICAgICBpZiAob25Mb2FkaW5nQ2hhbmdlKSBvbkxvYWRpbmdDaGFuZ2UoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHByZXZpZXcub25Mb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChvbkxvYWRpbmdDaGFuZ2UpIG9uTG9hZGluZ0NoYW5nZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBwcmV2aWV3Lm9uTG9hZENvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChvbkxvYWRpbmdDaGFuZ2UpIG9uTG9hZGluZ0NoYW5nZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJldmlld1JlZi5jdXJyZW50ID0gcHJldmlldztcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfoqK3nva7poJDopr3mmYLlh7rpjK86JywgZXJyKTtcbiAgICAgICAgaWYgKG9uRXJyb3IpIG9uRXJyb3IoYOioree9rumgkOimveaZguWHuumMrzogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgaWYgKG9uTG9hZGluZ0NoYW5nZSkgb25Mb2FkaW5nQ2hhbmdlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2V0dXBQcmV2aWV3KCk7XG5cbiAgICAvLyDmuIXnkIblh73mlbhcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHByZXZpZXdSZWYuY3VycmVudCkge1xuICAgICAgICBwcmV2aWV3UmVmLmN1cnJlbnQuZGlzcG9zZSgpO1xuICAgICAgICBwcmV2aWV3UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb250YWluZXJSZWYuY3VycmVudF0pO1xuXG4gIC8vIOiZleeQhuW+nuaWh+S7tuWKoOi8ieeahEpTT05cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkSnNvbkZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXByZXZpZXdSZWYuY3VycmVudCB8fCAhaXNJbml0aWFsaXplZCB8fCAhZmlsZVBhdGgpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG9uTG9hZGluZ0NoYW5nZSkgb25Mb2FkaW5nQ2hhbmdlKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9sb2FkLWpzb24tZmlsZT9maWxlUGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChmaWxlUGF0aCl9YCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQ6Yyv6KqkICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEuY29udGVudCAmJiBwcmV2aWV3UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QganNvblNvdXJjZSA9IEpTT04ucGFyc2UoZGF0YS5jb250ZW50KTtcbiAgICAgICAgICAgIGF3YWl0IHByZXZpZXdSZWYuY3VycmVudC5zZXRTb3VyY2UoanNvblNvdXJjZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihg54Sh5rOV5oeJ55SoSlNPTjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGDovInlhaVKU09O6Yyv6KqkOiAke2RhdGEuZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfovInlhaVKU09O5paH5Lu25aSx5pWXOicsIGVycik7XG4gICAgICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGDovInlhaVKU09O5paH5Lu25aSx5pWXOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG9uTG9hZGluZ0NoYW5nZSkgb25Mb2FkaW5nQ2hhbmdlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZEpzb25GaWxlKCk7XG4gIH0sIFtmaWxlUGF0aCwgaXNJbml0aWFsaXplZF0pO1xuXG4gIC8vIOiZleeQhkpTT07ovLjlhaXmm7TmlrBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFwcmV2aWV3UmVmLmN1cnJlbnQgfHwgIWlzSW5pdGlhbGl6ZWQgfHwgIWpzb25JbnB1dCkgcmV0dXJuO1xuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAob25Mb2FkaW5nQ2hhbmdlKSBvbkxvYWRpbmdDaGFuZ2UodHJ1ZSk7XG4gICAgICAgIGNvbnN0IGpzb25Tb3VyY2UgPSBKU09OLnBhcnNlKGpzb25JbnB1dCk7XG4gICAgICAgIGF3YWl0IHByZXZpZXdSZWYuY3VycmVudC5zZXRTb3VyY2UoanNvblNvdXJjZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign5oeJ55SoSlNPTuaZguWHuumMrzonLCBlcnIpO1xuICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihgSlNPTuino+aekOmMr+iqpDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChvbkxvYWRpbmdDaGFuZ2UpIG9uTG9hZGluZ0NoYW5nZShmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwZGF0ZVByZXZpZXcoKTtcbiAgfSwgW2pzb25JbnB1dCwgaXNJbml0aWFsaXplZF0pO1xuXG4gIHJldHVybiA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9fT48L2Rpdj47XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiUHJldmlldyIsIlByZXZpZXdDb21wb25lbnQiLCJqc29uSW5wdXQiLCJmaWxlUGF0aCIsIm9uRXJyb3IiLCJvbkxvYWRpbmdDaGFuZ2UiLCJjb250YWluZXJSZWYiLCJwcmV2aWV3UmVmIiwiaXNJbml0aWFsaXplZCIsInNldElzSW5pdGlhbGl6ZWQiLCJjdXJyZW50Iiwic2V0dXBQcmV2aWV3IiwiZGlzcG9zZSIsInByZXZpZXciLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQ1JFQVRPTUFURV9QVUJMSUNfVE9LRU4iLCJvblJlYWR5IiwiTkVYVF9QVUJMSUNfVEVNUExBVEVfSUQiLCJsb2FkVGVtcGxhdGUiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwib25Mb2FkIiwib25Mb2FkQ29tcGxldGUiLCJsb2FkSnNvbkZpbGUiLCJyZXNwb25zZSIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwib2siLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiY29udGVudCIsImpzb25Tb3VyY2UiLCJKU09OIiwicGFyc2UiLCJzZXRTb3VyY2UiLCJ1cGRhdGVQcmV2aWV3IiwiZGl2IiwicmVmIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/PreviewComponent.js\n");

/***/ })

};
;